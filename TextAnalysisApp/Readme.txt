Additional Software

Specflow to support the testing within a BDD approach. The tool maps really well to the stated requirements

Technical Solution

There were a number of ways this could have been implemented using LINQ, regular expressions or just native c# code. 
To ensure a clear and simple solution the LINQ and regular expression based approaches were dismissed.

The basic user story or feature has been mapped to the potential scenarios that could occur and these have then provided 
the basis of the tests that need to be executed